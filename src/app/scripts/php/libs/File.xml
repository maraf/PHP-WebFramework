<?xml version="1.0" encoding="utf-8" ?>

<taglib>
  <name>File Lib</name>
  <classname>File</classname>
  <classpath>php.libs</classpath>
  <count>*</count>
  <comment>
    Třída pro správu souborů.
  </comment>
  <tag>
    <name>showDirectory</name>
    <function>showDirectory</function>
    <attribute>
      <attname>dirId</attname>
    </attribute>
    <attribute>
      <attname>editable</attname>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
    </attribute>
    <attribute>
      <attname>showParent</attname>
    </attribute>
    <attribute>
      <attname>showTitleInsteadOfName</attname>
    </attribute>
    <attribute>
      <attname>browsable</attname>
	  <attdef>true</attdef>
    </attribute>
    <attribute>
      <attname>parentName</attname>
    </attribute>
    <attribute>
      <attname>nameWithExtension</attname>
	  <attdef>false</attdef>
    </attribute>
    <attribute>
      <attname>fileNameHeader</attname>
	  <attdef>false</attdef>
    </attribute>
    <comment>
      Zobrazí kompletní obsah adresáře z FS. "showParent" zobrazuje odkaz na rodičovský adresář (default true), "showTitleInsteadOfName" zobrazí popis(pokud není prázdný) místo názvu souboru.
    </comment>
  </tag>
  <tag>
    <name>showNewDirectoryForm</name>
    <function>showNewDirectoryForm</function>
    <attribute>
      <attname>dirId</attname>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
    </attribute>
	<attribute>
	  <attname>useRights</attname>
	</attribute>
    <comment>
      Zobrazí formulář pro přidání adresáře.
    </comment>
  </tag>
  <tag>
    <name>showUploadForm</name>
    <function>showUploadForm</function>
    <attribute>
      <attname>dirId</attname>
    </attribute>
    <attribute>
      <attname>useRights</attname>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
    </attribute>
    <comment>
      Zobrazí formulář pro upload souborů.
    </comment>
  </tag>
  <tag>
    <name>get</name>
    <function>getFile</function>
    <attribute>
      <attname>fileId</attname>
    </attribute>
    <comment>
      Vrátí binární podobu souboru (ke stažení).
    </comment>
  </tag>
  <tag>
    <name>compose</name>
    <function>composeUrl</function>
    <comment>
      Pro dynamický překlad adres. Zadanou cestu bude hledat mezi soubory (ve tvaru id-name).
    </comment>
  </tag>
  <tag>
    <name>gallery</name>
    <function>galleryFromDirectory</function>
    <obsolete>Spíš používat novou implementaci v knihovně 'php.libs.Image'.</obsolete>
    <attribute>
      <attname>method</attname>
    </attribute>
    <attribute>
      <attname>pageId</attname>
    </attribute>
    <attribute>
      <attname>langId</attname>
    </attribute>
    <attribute>
      <attname>dirId</attname>
    </attribute>
    <attribute>
      <attname>defaultDirId</attname>
    </attribute>
    <attribute>
      <attname>showSubDirs</attname>
    </attribute>
    <attribute>
      <attname>showNames</attname>
    </attribute>
    <attribute>
      <attname>showTitles</attname>
    </attribute>
    <attribute>
      <attname>limit</attname>
    </attribute>
    <attribute>
      <attname>detailWidth</attname>
    </attribute>
    <attribute>
      <attname>detailHeight</attname>
    </attribute>
    <attribute>
      <attname>lightbox</attname>
    </attribute>
    <attribute>
      <attname>lightWidth</attname>
    </attribute>
    <attribute>
      <attname>lightHeight</attname>
    </attribute>
    <attribute>
      <attname>lightTitle</attname>
    </attribute>
    <attribute>
      <attname>lightId</attname>
    </attribute>
    <attribute>
      <attname>useDirectLink</attname>
    </attribute>
    <attribute>
      <attname>recursively</attname>
    </attribute>
    <attribute>
      <attname>dirDateFormat</attname>
    </attribute>
    <attribute>
      <attname>orderFilesBy</attname>
    </attribute>
    <attribute>
      <attname>orderDirsBy</attname>
    </attribute>
    <attribute>
      <attname>desc</attname>
    </attribute>
    <attribute>
      <attname>filesBeforeFolders</attname>
    </attribute>
    <attribute>
      <attname>dirPageSize</attname>
    </attribute>
    <attribute>
      <attname>filePageSize</attname>
    </attribute>
    <comment>
      Vrátí všechny obrázky z daného adresáře(přímo v tagu nebo v $_REQUEST['dir-id']). 
      Odkaz na skutečnou velikost fotky je v pageId, pokud není zadána, zobrazí se jen miniatury.
      Method může nabývat hodnot "static" nebo "dynamic" a určuje způvob předání fileId další stránce,
      pokud je "dynamic", musí mít strana "pageId" zapnutý dynamické překlad adres.
      Atributy s prefixem light, slouzi pro lightbox, je ovsem nutne lightbox samostny (JS + CSS) prilozit 
	  ke strance, pro useDirectLink="true", zobrazi u lightbox galerie primy odkaz na soubor.
	  Atributy "orderFilesBy" a "orderDirsBy" určují řazení, "desc" pokud je true, pak desc, jinak asc.
	  "recursively" slouží k rekurzivnímu výpisu i všech pod adresářů.
	  "filesBeforeFolders" zobrazí nejprve soubory až pak složky z dané složky.
    </comment>
  </tag>
  <tag>
    <name>galleryDetail</name>
    <function>galleryDetail</function>
    <attribute>
      <attname>fileId</attname>
    </attribute>
    <attribute>
      <attname>showName</attname>
    </attribute>
    <attribute>
      <attname>showTitle</attname>
    </attribute>
    <comment>
      Vrátí detajl z galerie. FileId musí být zadáno přímo v tagu, v _REQUEST nebo v objektu třídy File
      v proměnné CurrentId (pokud je volán přes dynamický překlad adres).
    </comment>
  </tag>
  <fulltag>
    <name>directoryFiles</name>
    <function>getFilesFromDirectory</function>
    <attribute>
      <attname>id</attname>
      <required />
    </attribute>
    <attribute>
      <attname>type</attname>
    </attribute>
    <attribute>
      <attname>pageIndex</attname>
    </attribute>
    <attribute>
      <attname>limit</attname>
    </attribute>
    <attribute>
      <attname>noDataMessage</attname>
    </attribute>
    <comment>
      Do šablony ze svého těla vykreslí obsah složky. 
      Atribut 'id' definuje složky, ze které se má čerpat.
      Atribut 'type' může obsahovat seznam čárkou oddělených koncovek souborů.
      Atribut 'limit' definuje počet záznamů, které se mají vrátit. Pokud je vyplněný, je pak možné použít 'pageIndex' pro zobrazení daného indexu stránky.
    </comment>
  </fulltag>
  <tag>
    <name>url</name>
    <function>fileUrl</function>
    <comment>
      Vrací URL pro stažení souboru uvnitř f:directoryFiles.
    </comment>
  </tag>
  <tag>
    <name>name</name>
    <function>fileName</function>
    <comment>
      Vrací název souboru uvnitř f:directoryFiles.
    </comment>
  </tag>
  <tag>
    <name>title</name>
    <function>fileTitle</function>
    <comment>
      Vrací titulek souboru uvnitř f:directoryFiles.
    </comment>
  </tag>
  <tag>
    <name>type</name>
    <function>fileType</function>
    <comment>
      Vrací číselný typ souboru uvnitř f:directoryFiles.
    </comment>
  </tag>
  <property>
  	<name>fileId</name>
  	<setfunction>setFileId</setfunction>
  	<getfunction>getFileId</getfunction>
    <comment>
      Vlastnost aktuálního souboru.
    </comment>
  </property>
  <property>
  	<name>fileUrl</name>
  	<setfunction>setFileUrl</setfunction>
  	<getfunction>getFileUrl</getfunction>
    <comment>
      Vrací nebo nastavuje URL aktuálního souboru.
    </comment>
  </property>
  <property>
  	<name>dirId</name>
  	<setfunction>setDirectoryId</setfunction>
  	<getfunction>getDirectoryId</getfunction>
    <comment>
      Vlastnost aktuálního adresáře, používá pro uchování hodnoty $_REQUEST['dir-id']. Očekává id adresáře.
    </comment>
  </property>
  <property>
  	<name>dirUrl</name>
  	<setfunction>setDirectoryIdFromUrl</setfunction>
  	<getfunction>getDirectoryUrl</getfunction>
    <comment>
      Vlastnost aktuálního adresáře, používá pro uchování hodnoty $_REQUEST['dir-id']. Očekává url adresáře
    </comment>
  </property>
  <property>
  	<name>dirName</name>
  	<setfunction>setDirectoryName</setfunction>
  	<getfunction>getDirectoryName</getfunction>
    <comment>
      Vrátí název aktuálního adresáře
    </comment>
  </property>
</taglib>

