<?xml version="1.0" encoding="utf-8" ?>
<taglib>
  <name>FileAdmin Lib</name>
  <classname>FileAdmin</classname>
  <classpath>php.libs</classpath>
  <count>*</count>
  <comment>
    Knihovna pro správu souborového systému, náhrada za admin funkce z File class.
  </comment>
  <tag>
    <name>browser</name>
    <function>fileBrowser</function>
    <attribute>
      <name>dirId</name>
	    <attdef>0</attdef>
    </attribute>
    <attribute>
      <name>browsable</name>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <name>useFrames</name>
	    <attdef>true</attdef>
    </attribute>
    <comment>
      Zobrazí browser souborovým systémem
    </comment>
  </tag>
  <fulltag>
    <name>browser</name>
    <function>fileBrowserWithTemplate</function>
    <attribute>
      <name>dirId</name>
      <required />
	    <type>number</type>
      <comment>Id složky, jejíž obsah se má zobrazit.</comment>
    </attribute>
    <attribute>
      <name>grouped</name>
      <type>bool</type>
      <attdef>true</attdef>
      <comment>Zda mají složky a soubory být seřazený samostatně (rozdělení do dvou skupin).</comment>
    </attribute>
    <attribute>
      <name>parentName</name>
      <type>string</type>
      <comment>Pokud je vyplněný, pak bude v seznamu zahrnut i odkaz na rodičovskou složku.</comment>
    </attribute>
    <comment>
      Vypíše seznam dat ze složky "dirId".
      Výchozí řazení je podle názvu.
      Položky jsou rozděleny na složky a soubory.
    </comment>
  </fulltag>
  <property>
    <name>browserList</name>
    <getfunction>getFileBrowserListData</getfunction>
    <comment>
      Vrací list model uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserId</name>
    <getfunction>getFileBrowserItemId</getfunction>
    <comment>
      Vrací id položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserName</name>
    <getfunction>getFileBrowserItemName</getfunction>
    <comment>
      Vrací název položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserType</name>
    <getfunction>getFileBrowserItemType</getfunction>
    <comment>
      Vrací typ (číselný) položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserExtension</name>
    <getfunction>getFileBrowserItemExtension</getfunction>
    <comment>
      Vrací koncovku souboru uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserTitle</name>
    <getfunction>getFileBrowserItemTitle</getfunction>
    <comment>
      Vrací popisek položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <name>browserTimestamp</name>
    <getfunction>getFileBrowserItemTimestamp</getfunction>
    <comment>
      Vrací časové razítko poslední změny položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <tag>
    <name>upload</name>
    <function>fileUpload</function>
    <attribute>
      <name>dirId</name>
	    <attdef>0</attdef>
    </attribute>
    <attribute>
      <name>pageId</name>
      <comment>Stránka, kam se má uživatel přesměrovat po úspěšném nahrátí souboru.</comment>
    </attribute>
    <attribute>
      <name>name</name>
      <type>string</type>
      <comment>Pokud je vyplněn, pak umožňuje pojmenovat komponentu a díky tomu je možné mít více upload na jedné stránce.</comment>
    </attribute>
    <attribute>
      <name>useRights</name>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <name>useFrames</name>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <name>isStandalone</name>
      <type>bool</type>
	    <attdef>false</attdef>
      <comment>Pokud je nastaven na "true", zobrazí se vždy (tzn. není součástí fa:browser).</comment>
    </attribute>
    <comment>
      Zobrazí formulář nahrání souborů
    </comment>
  </tag>
  <fulltag>
    <name>upload</name>
    <function>uploadFormTag</function>
    <attribute>
      <name>dirId</name>
      <required />
	    <type>number</type>
      <comment>Id složky, do které se má uploadovat.</comment>
    </attribute>
    <comment>
      Zpracuje soubory uvnitř modelu a nahraje je do "dirId".
    </comment>
  </fulltag>
  <tag>
    <name>directoryEditor</name>
    <function>directoryEditor</function>
    <attribute>
      <name>useRights</name>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <name>useFrames</name>
	    <attdef>true</attdef>
    </attribute>
    <comment>
      Zobrazí formulář pro editaci složky
    </comment>
  </tag>
  <fulltag>
    <name>fileDeleter</name>
    <function>fileDeleter</function>
    <lookless>true</lookless>
    <attribute>
      <name>id</name>
      <required />
	    <type>number</type>
      <comment>Id souboru, která se má smazat.</comment>
    </attribute>
    <comment>
      Smaže soubor podle "id".
    </comment>
  </fulltag>
</taglib>

