<?xml version="1.0" encoding="utf-8" ?>
<taglib>
  <name>FileAdmin Lib</name>
  <classname>FileAdmin</classname>
  <classpath>php.libs</classpath>
  <version>1.00</version>
  <count>*</count>
  <comment>
    Knihovna pro správu souborového systému, náhrada za admin funkce z File class.
  </comment>
  <tag>
    <tagname>browser</tagname>
    <function>fileBrowser</function>
    <attribute>
      <attname>dirId</attname>
      <attreq>implied</attreq>
	    <attdef>0</attdef>
    </attribute>
    <attribute>
      <attname>browsable</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <comment>
      Zobrazí browser souborovým systémem
    </comment>
  </tag>
  <fulltag>
    <tagname>browser</tagname>
    <function>fileBrowserWithTemplate</function>
    <attribute>
      <attname>dirId</attname>
      <attreq>required</attreq>
	    <atttype>number</atttype>
      <attcomment>Id složky, jejíž obsah se má zobrazit.</attcomment>
    </attribute>
    <attribute>
      <attname>grouped</attname>
      <attreq>implied</attreq>
      <atttype>bool</atttype>
      <attdef>true</attdef>
      <attcomment>Zda mají složky a soubory být seřazený samostatně (rozdělení do dvou skupin).</attcomment>
    </attribute>
    <attribute>
      <attname>parentName</attname>
      <attreq>implied</attreq>
      <atttype>string</atttype>
      <attcomment>Pokud je vyplněný, pak bude v seznamu zahrnut i odkaz na rodičovskou složku.</attcomment>
    </attribute>
    <comment>
      Vypíše seznam dat ze složky "dirId".
      Výchozí řazení je podle názvu.
      Položky jsou rozděleny na složky a soubory.
    </comment>
  </fulltag>
  <property>
    <propname>browserList</propname>
    <getfunction>getFileBrowserListData</getfunction>
    <comment>
      Vrací list model uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserId</propname>
    <getfunction>getFileBrowserItemId</getfunction>
    <comment>
      Vrací id položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserName</propname>
    <getfunction>getFileBrowserItemName</getfunction>
    <comment>
      Vrací název položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserType</propname>
    <getfunction>getFileBrowserItemType</getfunction>
    <comment>
      Vrací typ (číselný) položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserExtension</propname>
    <getfunction>getFileBrowserItemExtension</getfunction>
    <comment>
      Vrací koncovku souboru uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserTitle</propname>
    <getfunction>getFileBrowserItemTitle</getfunction>
    <comment>
      Vrací popisek položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <property>
    <propname>browserTimestamp</propname>
    <getfunction>getFileBrowserItemTimestamp</getfunction>
    <comment>
      Vrací časové razítko poslední změny položky uvnitř párového "fa:browser".
    </comment>
  </property>
  <tag>
    <tagname>upload</tagname>
    <function>fileUpload</function>
    <attribute>
      <attname>dirId</attname>
      <attreq>implied</attreq>
	    <attdef>0</attdef>
    </attribute>
    <attribute>
      <attname>pageId</attname>
      <attreq>implied</attreq>
      <attcomment>Stránka, kam se má uživatel přesměrovat po úspěšném nahrátí souboru.</attcomment>
    </attribute>
    <attribute>
      <attname>name</attname>
      <attreq>implied</attreq>
      <atttype>string</atttype>
      <attcomment>Pokud je vyplněn, pak umožňuje pojmenovat komponentu a díky tomu je možné mít více upload na jedné stránce.</attcomment>
    </attribute>
    <attribute>
      <attname>useRights</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <attname>isStandalone</attname>
      <attreq>implied</attreq>
      <atttype>bool</atttype>
	    <attdef>false</attdef>
      <attcomment>Pokud je nastaven na "true", zobrazí se vždy (tzn. není součástí fa:browser).</attcomment>
    </attribute>
    <comment>
      Zobrazí formulář nahrání souborů
    </comment>
  </tag>
  <fulltag>
    <tagname>upload</tagname>
    <function>uploadFormTag</function>
    <attribute>
      <attname>dirId</attname>
      <attreq>required</attreq>
	    <atttype>number</atttype>
      <attcomment>Id složky, do které se má uploadovat.</attcomment>
    </attribute>
    <comment>
      Zpracuje soubory uvnitř modelu a nahraje je do "dirId".
    </comment>
  </fulltag>
  <tag>
    <tagname>directoryEditor</tagname>
    <function>directoryEditor</function>
    <attribute>
      <attname>useRights</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <attribute>
      <attname>useFrames</attname>
      <attreq>implied</attreq>
	    <attdef>true</attdef>
    </attribute>
    <comment>
      Zobrazí formulář pro editaci složky
    </comment>
  </tag>
  <fulltag>
    <tagname>fileDeleter</tagname>
    <function>fileDeleter</function>
    <lookless>true</lookless>
    <attribute>
      <attname>id</attname>
      <attreq>required</attreq>
	    <atttype>number</atttype>
      <attcomment>Id souboru, která se má smazat.</attcomment>
    </attribute>
    <comment>
      Smaže soubor podle "id".
    </comment>
  </fulltag>
</taglib>

