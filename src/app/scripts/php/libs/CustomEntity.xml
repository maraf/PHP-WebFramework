<?xml version="1.0" encoding="utf-8" ?>
<taglib>
  <name>Custom entity.</name>
  <classname>CustomEntity</classname>
  <classpath>php.libs</classpath>
  <version>1.00</version>
  <count>*</count>
  <comment>
    Knihovna pro práci s uživatelskými entitami.
  </comment>
  <fulltag>
    <tagname>form</tagname>
    <function>form</function>
    <attribute>
      <attname>name</attname>
      <attreq>required</attreq>
      <attcomment>Název entity, pro kterou se má vygenerovat formulář.</attcomment>
    </attribute>
    <attribute>
      <attname>method</attname>
      <attreq>implied</attreq>
      <attdef>POST</attdef>
      <atttype>string</atttype>
      <attcomment>HTTP metoda, kterou se má odeslat formulář (GET, POST, PUT, DELETE).</attcomment>
    </attribute>
    <attribute>
      <attname>submit</attname>
      <attreq>implied</attreq>
      <attcomment>Název klíče z requestu, kterým je možné odeslat formulář. Pokud není zadáno, formulář se odešle jakýmkoli requestem. Je povinný pro method=GET.</attcomment>
    </attribute>
    <attribute>
      <attname>nextPageId</attname>
      <attreq>implied</attreq>
      <atttype>number</atttype>
      <attdef>0</attdef>
      <attcomment>Id stránky, kam se má přesměrovat po úspěšném uložení záznamu.</attcomment>
    </attribute>
    <attribute>
      <attname>langIds</attname>
      <attreq>implied</attreq>
      <attcomment>Id jazyků, pro které mají zpracovávat lokalizované pole.</attcomment>
    </attribute>
    <anyAttribute />
    <comment>
      Vygeneruje formulář pro přidání/úpravu záznamu v uživatelské entitě.
      Všechny atributy začínající na "key-" jsou použity pro identifikaci záznamu pro editaci.
    </comment>
  </fulltag>
  <tag>
    <tagname>register</tagname>
    <function>register</function>
    <attribute>
      <attname>name</attname>
      <attreq>required</attreq>
      <attcomment>Název sloupce, který se má zaregistrovat do dotazu.</attcomment>
    </attribute>
    <comment>
      Zaregistruje do dotazu sloupec podle "name" i přesto, že se pomocí custom property nikde nevypisuje.
    </comment>
  </tag>
  <tag>
    <tagname>emptyDirectory</tagname>
    <function>emptyDirectory</function>
    <attribute>
      <attname>name</attname>
      <attreq>required</attreq>
      <attcomment>Název sloupce, pro který se má vytvořit.</attcomment>
    </attribute>
    <attribute>
      <attname>parentDirId</attname>
      <attreq>required</attreq>
      <attcomment>Id rodičovské složky, ve které má být vytvořena nová.</attcomment>
    </attribute>
    <attribute>
      <attname>nameFormat</attname>
      <attreq>required</attreq>
      <attcomment>Formátovací řetězec pro název nové složky. Např.: "{id} - {name}".</attcomment>
    </attribute>
  </tag>
  <fulltag>
    <tagname>list</tagname>
    <function>getList</function>
    <attribute>
      <attname>name</attname>
      <attreq>required</attreq>
      <attcomment>Název entity, která se má vypsat.</attcomment>
    </attribute>
    <anyAttribute />
    <comment>
      Vypíše seznam dat z entity "name".
      List model se nastaví do "ce:list", vypisovat pak lze pomocí "ce:*" (atribut) nebo "ce:_" (celá položka).
      Všechny atributy začínající na "filter-" se složí do where clausule.
      Všechny atributy začínající na "orderBy-" se složí do order by clausule, hodnota může být asc/desc.
    </comment>
  </fulltag>
  <fulltag>
    <tagname>deleter</tagname>
    <function>deleter</function>
    <lookless>true</lookless>
    <attribute>
      <attname>name</attname>
      <attreq>required</attreq>
      <attcomment>Název entity, pro kterou se má vygenerovat formulář.</attcomment>
    </attribute>
    <anyAttribute />
    <comment>
      Smaže všechny záznamy z entity podle "params".
    </comment>
  </fulltag>
  <property>
    <propname>list</propname>
    <getfunction>getListData</getfunction>
    <comment>
        Vrací list model uvnitř "ce:list".
    </comment>
  </property>
  <anyProperty />
</taglib>

